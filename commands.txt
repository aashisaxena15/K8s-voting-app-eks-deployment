1  ls
    2  aws eks update-kubeconfig --name cluster-1 --region us-east-1
    3  kubectl get all
    4  kubectl get ns
    5  kubectl get all -n cloudchamp
    6  kubectl exec -it mongo-0 -- mongo --eval "rs.status()" | grep "PRIMARY\|SECONDARY"
    7  kubectl exec -it mongo-0 -- mongo 
    8  kubectl get pods -n cloudchamp
    9  kubectl exec -it mongo-0 -- mongo
   10  kubectl exec -it mongo-0 -- mongo -n cloudchamp
   11  kubectl exec -it mongo-0 -n cloudchamp -- mongo 
   12  kubectl config set-context --current --namespace cloudchamp
   13  kubectl exec -it mongo-0 -- mongo --eval "rs.status()" | grep "PRIMARY\|SECONDARY"
   14  kubectl exec -it mongo-0 -n cloudchamp -- mongo 
   15  ls
   16  cd K8s-voting-app/
   17  cd manifests/
   18  ls
   19  kubectl apply -f mongo-secret.yaml 
   20  kubectl apply -f api-deployment.yaml
   21  kubectl get all
   22  kubectl expose deploy api  --name=api  --type=LoadBalancer  --port=80  --target-port=8080
   23  kubectl get svc
   24  API_ELB_PUBLIC_FQDN=$(kubectl get svc api -ojsonpath="{.status.loadBalancer.ingress[0].hostname}")
   25  until nslookup $API_ELB_PUBLIC_FQDN >/dev/null 2>&1; do sleep 2 && echo waiting for DNS to propagate...; done
   26  kubectl apply -f frontend-deployment.yaml
   27  kubectl get pods 
   28  kubectl expose deploy frontend  --name=frontend  --type=LoadBalancer  --port=80  --target-port=8080
   29  kubectl get svc
   30  history
